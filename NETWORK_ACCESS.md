# ネットワークアクセス設定ガイド

## 概要
同じネットワーク内の他のデバイス（スマートフォン、タブレット、他のPC）から勤怠管理システムにアクセスする方法

## セットアップ手順

### 1. ネットワーク起動スクリプトを実行

```cmd
start-network.bat
```

このスクリプトは自動的に：
- あなたのローカルIPアドレスを検出
- バックエンドサーバーを起動（ポート8001）
- フロントエンドサーバーを起動（ポート3000）
- アクセスURLを表示

### 2. ファイアウォール設定

初回起動時にWindowsファイアウォールの警告が表示される場合：
1. 「プライベートネットワーク」にチェック
2. 「アクセスを許可」をクリック

### 3. 他のデバイスからアクセス

表示されたIPアドレス（例: `192.168.1.100`）を使用して：

**スマートフォン・タブレット:**
1. 同じWi-Fiネットワークに接続
2. ブラウザで `http://192.168.1.100:3000` にアクセス

**他のPC:**
1. 同じネットワークに接続
2. ブラウザで `http://192.168.1.100:3000` にアクセス

## 手動起動方法

### バックエンドサーバー
```bash
cd backend
python -m app.main
```
- デフォルトで `0.0.0.0:8001` でリッスン
- すべてのネットワークインターフェースから接続可能

### フロントエンドサーバー
```bash
cd frontend
python -m http.server 3000 --bind 0.0.0.0
```
- `--bind 0.0.0.0` で全IPから接続可能

## IPアドレスの確認方法

### Windows
```cmd
ipconfig
```
IPv4アドレスを確認（例: 192.168.1.100）

### Mac/Linux
```bash
ifconfig
# または
ip addr show
```

## トラブルシューティング

### 接続できない場合

1. **ファイアウォール確認**
   - Windows Defender ファイアウォールで Python.exe を許可
   - ポート3000と8001を開放

2. **同じネットワークか確認**
   - PCとデバイスが同じWi-Fi/LANに接続されているか確認

3. **IPアドレス確認**
   - IPアドレスが正しいか再確認
   - DHCPでIPが変わっている可能性があるため再確認

4. **ポート競合確認**
   ```cmd
   netstat -ano | findstr :3000
   netstat -ano | findstr :8001
   ```

### セキュリティ注意事項

- **プライベートネットワークのみで使用**
  - 公共Wi-Fiでの使用は避ける
  - 信頼できるネットワークでのみ使用

- **本番環境では使用しない**
  - この設定は開発・テスト用
  - 本番環境ではHTTPS、認証強化が必要

## 対応環境

### サーバー側（PC）
- Windows 10/11
- Python 3.8以上
- ポート3000, 8001が利用可能

### クライアント側（アクセスデバイス）
- モダンブラウザ（Chrome, Firefox, Safari, Edge）
- スマートフォン（iOS/Android）
- タブレット
- 他のPC

## API URL自動検出

フロントエンドのJavaScriptは自動的に適切なAPI URLを検出：

- `localhost` → `http://localhost:8001`
- IPアドレス → `http://[IP]:8001`
- Vercel → `https://[domain]/api`

手動でURLを変更する必要はありません。